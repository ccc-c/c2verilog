// =========== iFile: ../test/m/recursiveCall.mx ==============
// .setc SP = 1000  
@1000
D=A
@SP
M=D
// .pushc 3  
@3
D=A
@SP
A=M
M=D
@SP
M=M+1
// .call f t L1  
// setc LR = L1
@L1
D=A
@LR
M=D
// .goto f
@f
0;JMP
(L1)
// setc t = RT
@RT
D=M
@t
M=D
// .puti t  
@t
D=M
@0
swi
// .exit   
@255
swi
  
// .function f  
(f)
// .pop n  
@SP
M=M-1
@SP
A=M
D=M
@n
M=D
// .push LR  
@LR
D=M
@SP
A=M
M=D
@SP
M=M+1
// .puti n  
@n
D=M
@0
swi
// .opc is1 = n == 1  
@n
D=M
@1
D=D==A
@is1
M=D
// .if is1 goto N1  
@is1
D=M
@N1
D;JNE
// .setc r = 2  
@2
D=A
@r
M=D
// .goto EXIT  
@EXIT
0;JMP
(N1)  
// .setc r = 1  
@1
D=A
@r
M=D
(EXIT)  
// .pop LR  
@SP
M=M-1
@SP
A=M
D=M
@LR
M=D
// .ret r  
// set RT = r
@r
D=M
@RT
M=D
// ret
@LR
A=M
0;JMP
